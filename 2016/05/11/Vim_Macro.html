<!doctype html >
<html class="no-js" lang="fr" itemscope itemtype="http://schema.org/Organization">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta charset="utf-8">
        <title>Macro Vim : C'est trop génial</title>
        <meta property="fb:app_id" content="432735746865877"/>
        <meta property="og:url" content="http://code-troopers.com/2016/05/11/Vim_Macro.html"/>
        <meta property="og:title" content="Macro Vim : C'est trop génial"/>
        <meta property="twitter:card" content="summary"/>
        <meta property="twitter:site" content="codetroopers"/>
        <meta property="twitter:image:src" content="http://code-troopers.com/images/banner/ohmyzsh-banner.png"/>
        <meta property="og:image" content="http://code-troopers.com/images/banner/ohmyzsh-banner.png"/>
        <meta property="twitter:title" content="Macro Vim : C'est trop génial"/>
        <meta property="twitter:creator" content="@codetroopers"/>
        <meta property="twitter:domain" content="http://code-troopers.com"/>
        
        
        <meta property="twitter:description" content="Comme certains d&#8217;entre vous le savent, j&#8217;aime beaucoup Vim. Il n&#8217;y a pas très longtemps au Tours JUG, je disais...">
        
        
        
        <meta name="description" content="Comme certains d&#8217;entre vous le savent, j&#8217;aime beaucoup Vim. Il n&#8217;y a pas très longtemps au Tours JUG, je disais que je n&#8217;avais pas de cas d&#8217;utilisation des macro dans Vim dont certains disent que c&#8217;est LA killer feature. Et bien j&#8217;ai trouvé un use case et « c&#8217;est trop génial ! » comme dirait Agnès. Angular2 et macros Vim Les vidéos de Devoxx 2016 sont sorties, dont Angular 2 : Préparez vous dès maintenant à la migration (Benoit Lemoine). Une des étapes est de passer par les ControllerAs, je ne vais pas refaire la conf ce n&#8217;est pas le but. Bref, je travaille sur un projet qui définit les controllers comme ceci : $routeProvider.when('/admin/displayMail', {templateUrl: 'partials/display_mail.html', controller: 'ListMailCtrl'}); $routeProvider.when('/admin/createEditMail', {templateUrl: 'partials/create_mail.html', controller: 'EditMailCtrl'}); $routeProvider.when('/admin/createEditMail/:id', {templateUrl: 'partials/create_mail.html', controller: 'EditMailCtrl'}); $routeProvider.when('/admin/displayUsers', {templateUrl: 'partials/display_users.html', controller: 'DisplayUsersCtrl'}); $routeProvider.when('/admin/createUser', {templateUrl: 'partials/create_user.html', controller: 'CreateUserCtrl'}); $routeProvider.when('/admin/updateUser/:login', {templateUrl: 'partials/update_user.html', controller: 'UpdateUserCtrl'}); Je veux rajouter pour chaque ligne un controllerAs: 'monCtrl' avec comme nom le même que le controller associé mais en commençant par une minuscule, et donc obtenir les lignes ci-dessous. J&#8217;ai extrait 6 controllers mais en réalité il y en a plutôt une cinquantaine (les noms ont été changés si on me demande). $routeProvider.when('/admin/displayMail', {templateUrl: 'partials/display_mail.html',..." />
        <meta property="og:description" content="Comme certains d&#8217;entre vous le savent, j&#8217;aime beaucoup Vim. Il n&#8217;y a pas très longtemps au Tours JUG, je disais que je n&#8217;avais pas de cas d&#8217;utilisation des macro dans Vim dont certains disent que c&#8217;est LA killer feature. Et bien j&#8217;ai trouvé un use case et « c&#8217;est trop génial ! » comme dirait Agnès. Angular2 et macros Vim Les vidéos de Devoxx 2016 sont sorties, dont Angular 2 : Préparez vous dès maintenant à la migration (Benoit Lemoine). Une des étapes est de passer par les ControllerAs, je ne vais pas refaire la conf ce n&#8217;est pas le but. Bref, je travaille sur un projet qui définit les controllers comme ceci : $routeProvider.when('/admin/displayMail', {templateUrl: 'partials/display_mail.html', controller: 'ListMailCtrl'}); $routeProvider.when('/admin/createEditMail', {templateUrl: 'partials/create_mail.html', controller: 'EditMailCtrl'}); $routeProvider.when('/admin/createEditMail/:id', {templateUrl: 'partials/create_mail.html', controller: 'EditMailCtrl'}); $routeProvider.when('/admin/displayUsers', {templateUrl: 'partials/display_users.html', controller: 'DisplayUsersCtrl'}); $routeProvider.when('/admin/createUser', {templateUrl: 'partials/create_user.html', controller: 'CreateUserCtrl'}); $routeProvider.when('/admin/updateUser/:login', {templateUrl: 'partials/update_user.html', controller: 'UpdateUserCtrl'}); Je veux rajouter pour chaque ligne un controllerAs: 'monCtrl' avec comme nom le même que le controller associé mais en commençant par une minuscule, et donc obtenir les lignes ci-dessous. J&#8217;ai extrait 6 controllers mais en réalité il y en a plutôt une cinquantaine (les noms ont été changés si on me demande). $routeProvider.when('/admin/displayMail', {templateUrl: 'partials/display_mail.html',...">
        
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="/styles/style-16c38cdcdb.css">

        <!--[if lt IE 9]>
                <script src="/js/ie8-534b44a6d7.js"></script>
        <![endif]-->
        <meta itemprop="name" content="CT-CDGT"/>
        <meta itemprop="name" content="CT-RMLC"/>
        <meta itemprop="name" content="CT-BNCS"/>
        <meta itemprop="name" content="CT-JRPT"/>
        <meta itemprop="name" content="CT-MTBL"/>
        <meta itemprop="name" content="CT-FLCH"/>
        <meta itemprop="name" content="CT-VCMB"/>
    </head>
    <body>
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NWLQD2"
                height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NWLQD2');</script>
        <!-- End Google Tag Manager -->
        <!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a
                href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

<header data-spy="affix" class="affix-top">
    <div class="container">
        <div class="navbar-header" itemscope itemtype="http://schema.org/Organization">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span><i class="fa fa-bars fa-2x"></i></span>
            </button>
            <a itemprop="url" class="navbar-brand" href="/"><img itemprop="logo" class="logo" alt="Code-Troopers logo" title="Code-Troopers logo" src="/images/logo.png">
                <span itemprop="name" class="brand">Code-Troopers</span>
            </a>
        </div>
        <nav class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li class="active"><a data-scrollToLink="aboutUs">À propos</a></li>
                <li><a data-scrollToLink="projects">Réalisations</a></li>
                <li><a data-scrollToLink="skills">Compétences</a></li>
                <li><a data-scrollToLink="team">L'équipe</a></li>
                <li><a data-scrollToLink="contact">Contact</a></li>
                <li><a href="/blog/index.html">Blog</a></li>
            </ul>
        </nav>
        <!--/.nav-collapse -->
    </div>
</header>

    <section id="post">
        <div class="header">
            <div class="container"><a href="/blog/index.html">Le <span>blog</a></span></div>
        </div>
        <div class="container">
        <article>
            <div>
		<div class="cover" style="background-image:url(/images/banner/ohmyzsh-banner-big.png)">
                    <div class="date">posté le 11/05/2016 par Matthieu</div>
                </div>
                <h2><a href="/2016/05/11/Vim_Macro.html">Macro Vim : C'est trop génial</a></h2>
                <ul class="tags">
                    
                    <li>Vim</li>
                    
                    <li>Tips</li>
                    
                    <li>Macro</li>
                    
                </ul>
                <div class="content">
                    <div class="paragraph">
<p>Comme certains d&#8217;entre vous le savent, j&#8217;aime beaucoup Vim. Il n&#8217;y a pas très longtemps au Tours JUG, je disais que je n&#8217;avais pas de cas d&#8217;utilisation des macro dans Vim dont certains disent que c&#8217;est LA killer feature. Et bien j&#8217;ai trouvé un use case et « c&#8217;est trop génial ! » comme dirait Agnès.</p>
</div>
<div class="paragraph">
<p><!--break--></p>
</div>
<div class="paragraph">
<p><div style="text-align : center">
<a class="inlineBoxes" href="/images/posts/2016-05-VimMacro/trop_genial.gif" data-lightbox="0" title="trop génial">
        <img class="medium" src="/images/posts/2016-05-VimMacro/trop_genial.gif" alt="trop génial"/>
</a></p>
</div>
<div class="sect1">
<h2 id="angular2-et-macros-vim">Angular2 et macros Vim</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les vidéos de Devoxx 2016 sont sorties, dont <a href="https://www.youtube.com/watch?v=5U4OasGuo0o">Angular 2 : Préparez vous dès maintenant à la migration (Benoit Lemoine)</a>. Une des étapes est de passer par les ControllerAs, je ne vais pas refaire la conf ce n&#8217;est pas le but. Bref, je travaille sur un projet qui définit les controllers comme ceci :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$routeProvider.when('/admin/displayMail', {templateUrl: 'partials/display_mail.html', controller: 'ListMailCtrl'});
$routeProvider.when('/admin/createEditMail', {templateUrl: 'partials/create_mail.html', controller: 'EditMailCtrl'});
$routeProvider.when('/admin/createEditMail/:id', {templateUrl: 'partials/create_mail.html', controller: 'EditMailCtrl'});
$routeProvider.when('/admin/displayUsers', {templateUrl: 'partials/display_users.html', controller: 'DisplayUsersCtrl'});
$routeProvider.when('/admin/createUser', {templateUrl: 'partials/create_user.html', controller: 'CreateUserCtrl'});
$routeProvider.when('/admin/updateUser/:login', {templateUrl: 'partials/update_user.html', controller: 'UpdateUserCtrl'});</pre>
</div>
</div>
<div class="paragraph">
<p>Je veux rajouter pour chaque ligne un <code>controllerAs: 'monCtrl'</code> avec comme nom le même que le controller associé mais en commençant par une minuscule, et donc obtenir les lignes ci-dessous. J&#8217;ai extrait 6 controllers mais en réalité il y en a plutôt une cinquantaine (les noms ont été changés si on me demande).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$routeProvider.when('/admin/displayMail', {templateUrl: 'partials/display_mail.html', controller: 'ListMailCtrl', controllerAs: 'listMailCtrl'});
$routeProvider.when('/admin/createEditMail', {templateUrl: 'partials/create_mail.html', controller: 'EditMailCtrl', controllerAs: 'editMailCtrl'});
$routeProvider.when('/admin/createEditMail/:id', {templateUrl: 'partials/create_mail.html', controller: 'EditMailCtrl', controllerAs: 'editMailCtrl'});
$routeProvider.when('/admin/displayUsers', {templateUrl: 'partials/display_users.html', controller: 'DisplayUsersCtrl', controllerAs: 'displayUsersCtrl'});
$routeProvider.when('/admin/createUser', {templateUrl: 'partials/create_user.html', controller: 'CreateUserCtrl', controllerAs: 'createUserCtrl'});
$routeProvider.when('/admin/updateUser/:login', {templateUrl: 'partials/update_user.html', controller: 'UpdateUserCtrl', controllerAs: 'updateUserCtrl'});</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>qa</code> : on commence la macro, on enregistre dans a</p>
</li>
<li>
<p><code>/controller:&lt;enter&gt;</code> : on recherche controller:</p>
</li>
<li>
<p><code>eeee</code> : on se déplace de mot en mot pour arriver sur le nom du controller</p>
</li>
<li>
<p><code>yi'</code> : on copie tout ce qui se trouve à l&#8217;intérieur des ' (le nom du controller donc)</p>
</li>
<li>
<p><code>ela</code> : on se déplace vers la droite et on passe en insertion</p>
</li>
<li>
<p><code>controllerAs: ''&lt;Esc&gt;</code> : on écrit le texte et on repasse en mode normal</p>
</li>
<li>
<p><code>hp</code> : on passe sur la première ' et on copie le texte précédemment copié</p>
</li>
<li>
<p><code>bgur</code> : on se place au début du mot et on passe la première lettre en minuscule</p>
</li>
<li>
<p><code>q</code> : fin de l&#8217;enregistrement</p>
</li>
<li>
<p><code>50@a</code> : on joue la macro 50 fois</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ce qui donne :
<code>qa/controller:&lt;enter&gt;eeeeyi&#8217;era, controllerAs: ''&lt;Esc&gt;cpbgurq50@a</code></p>
</div>
<div class="paragraph">
<p>Juste en lisant le texte, on a l&#8217;impression que c&#8217;est compliqué, avec les explications j&#8217;espère que ça paraît plus simple, en tout cas ça l&#8217;est avec l&#8217;habitude. Cela paraît long aussi mais au final c&#8217;est rapide à taper, il suffit de voir la vidéo qui est en vitesse réelle :</p>
</div>
<div class="paragraph">
<p><div style="text-align: center;margin:50px;">
<video style="width: 100%;" controls src="/videos/vim_macro.webm"></video>
</div></p>
</div>
</div>
</div>
                </div>
<div class="share">
L'article vous a plu ? Partagez-le :
    <ul class="socials">
        <li>
            <a target="_blank" title="Twitter" href="https://twitter.com/share?url=http://code-troopers.com/2016/05/11/Vim_Macro.html&text=Macro Vim : C'est trop génial&via=codetroopers" 
                rel="nofollow" 
                onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;">
                <i class="fa fa-twitter-square"></i>
            </a>
        </li>
        <li>
            <a target="_blank" title="Facebook" href="https://www.facebook.com/sharer.php?u=http://code-troopers.com/2016/05/11/Vim_Macro.html&t=Macro Vim : C'est trop génial" 
                class="facebook-button" rel="nofollow" 
                onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;">
                <i class="fa fa-facebook-square"></i>
            </a>
        </li>
        <li>
            <a target="_blank" title="Google +" href="https://plus.google.com/share?url=http://code-troopers.com/2016/05/11/Vim_Macro.html&hl=fr" 
                class="google-button" rel="nofollow" 
                onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">
                <i class="fa fa-google-plus-square"></i>
            </a>
        </li>
        <li>
            <a target="_blank" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http://code-troopers.com/2016/05/11/Vim_Macro.html&title=Macro Vim : C'est trop génial" 
                class="linkedin-button" rel="nofollow" 
                onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">
                <i class="fa fa-linkedin-square"></i>
            </a>
        </li>
        <li>
            <a target="_blank" title="Envoyer par mail" href="mailto:?subject=Macro Vim : C'est trop génial&body=http://code-troopers.com/2016/05/11/Vim_Macro.html" rel="nofollow">
                <i class="fa fa-envelope"></i>
            </a>
        </li>
    </ul>
</div>
<div style="clear:both"></div>



                <div class="back">
                    <a href="/blog/index.html"><i class="fa fa-arrow-circle-o-up"></i> Retour aux articles</a>
                    <div class="pull-right paginate">
                        
                        <a href="/2016/03/30/Android_Google_Tag_Manager_Feature_Toggle.html"><i class="fa fa-arrow-circle-o-left"></i> Précédent</a>
                        
                        
                        <span class="disabled"><i class="fa fa-arrow-circle-o-right"></i> Suivant</span>
                        
                    </div>
                </div>
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'codetroopers'; // required: replace example with your forum shortname
		    var disqus_url = window.location.href;
		    if (window.location.protocol != "http:"){
			disqus_url = "http:" + window.location.href.substring(window.location.protocol.length);
		    }

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

            </div>
        </article>
        </div>
    </section>
<footer id="contact">
    <div class="container">
        <div class="row">
            <div class="col-md-6" itemscope itemtype="http://schema.org/Organization">
                <h3>Contact</h3>

                <p>Vous avez besoin de nous pour un projet, contactez-nous sur les réseaux sociaux, par mail à <a
                    href="mailto:contact@code-troopers.com"><meta itemprop="email" content="contact@code-troopers.com">contact@code-
                    troopers.com</a></p>
            </div>
            <div class="col-md-6 simple-social-icons">
                <h3>Réseaux sociaux</h3>
                <ul class="socials">
                    <li><a target="_blank" href="https://twitter.com/codetroopers"><i
                            class="fa fa-twitter-square"></i></a></li>
                    <li><a target="_blank"
                           href="https://www.facebook.com/pages/Code-Troopers/123604307824664"><i
                            class="fa fa-facebook-square"></i></a></li>
                    <li><a target="_blank" href="https://plus.google.com/+Code-troopers" rel="publisher"><i
                            class="fa fa-google-plus-square"></i></a></li>
                    <li><a target="_blank" href="https://github.com/code-troopers"><i
                            class="fa fa-github-square"></i></a></li>
                    <li><a target="_blank" href="/feed.xml"><i
                            class="fa fa-rss-square"></i></a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="footer-under">
                Made with <i class="fa fa-heart"></i> in Tours -
              © 2016 Code-Troopers - Tous droits réservés
            </div>
						<div class="legals footer-under">
							  Mentions légales : <br>
							  Code-Troopers est une  marque déposée à l'INPI (numéro 4145181).<br>
								CT-CDGT SARL au capital de 1000€, 73 rue Ledru Rollin, 37000 Tours, 808 881 064 RCS Tours. <br>
								Site hébergé par GitHub Inc.
						</div>
        </div>
    </div>
</footer>

<script src="/js/scripts-c7647626f8.js"></script>

</body>
</html>



